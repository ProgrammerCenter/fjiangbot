# 枫酱BOT
> # 你不给🌟，我不给🌟，放在谁身上谁都放弃

![issues](https://img.shields.io/github/issues/liuqianpan2008/fjiangbot)![forks](https://img.shields.io/github/forks/liuqianpan2008/fjiangbot)![stars](https://img.shields.io/github/stars/liuqianpan2008/fjiangbot)![nodejs](https://img.shields.io/badge/nodejs-14%2B-brightgreen)

### 启动方式

* **请事先安装环境 [nodejs](https://nodejs.org/zh-cn/download/)  [git](https://git-scm.com/download/win)**

    1. 克隆这个项目`git clone https://github.com/liuqianpan2008/fjiangbot.git`
    2. 安装依赖 `npm i`
    3. 修改`src/config/`目录下的`.config.ts` 为 `config.ts`,并设置相关内容
    4. 运行`npm run app`

### 功能

<details>
<summary>宵禁</summary>
<img src="https://user-images.githubusercontent.com/80571808/186034689-db865452-27d9-4716-a4c6-0a735d148539.png">
</details>


<details>
<summary>入群验证</summary>
<img src="https://user-images.githubusercontent.com/80571808/186034697-320eee2c-41d6-41b7-8866-b2932540f24d.png">
</details>

<details>
<summary>签到</summary>
<img src="https://user-images.githubusercontent.com/80571808/186034702-165b016d-248d-4dee-8e8b-9a074b5e38ad.jpg">
</details>

<details>
<summary>榜单</summary>
<img src="https://user-images.githubusercontent.com/80571808/186034649-8b807c2f-b4db-4d4c-9c8c-0bcfd6b1550c.jpg">
</details>

<details>
<summary>宵禁</summary>
<img src="https://user-images.githubusercontent.com/80571808/186034689-db865452-27d9-4716-a4c6-0a735d148539.png">
</details>

<details>
<summary>词条</summary>
  <img src="https://user-images.githubusercontent.com/80571808/186034683-3f01efe8-4f78-4830-aa50-ca6f0ad90c71.png">
  <img src="https://user-images.githubusercontent.com/80571808/186034671-e78c9aae-5e2b-47e3-92bd-967bfa982f68.png">
</details>

<details>
<summary>菜单</summary>
  <img src="https://user-images.githubusercontent.com/80571808/186034725-e4f10e77-2318-4d27-9f7c-6324eb5dccca.jpg">
</details>

<details>
<summary>B站相关</summary>
  B站信息
  <img src="https://user-images.githubusercontent.com/80571808/186034633-2461c481-da71-4466-8cca-9799d18e214b.jpg">
  B站视频
  <img src="https://user-images.githubusercontent.com/80571808/186034694-5571d191-7b26-4713-97b3-1919615889f0.png">
  直播签到
    <img src="https://user-images.githubusercontent.com/80571808/186034626-32918045-25b4-4db5-936f-3c6c4bf00e26.png">
</details>

<details>
<summary>道具系统</summary>
枫酱超市
  <img src="https://user-images.githubusercontent.com/80571808/186034711-5dd5cf8c-947a-471e-8420-f63c161536c1.jpg">
  个人仓库
  <img src="https://user-images.githubusercontent.com/80571808/186034723-94eacb7c-d769-4d72-a698-cfafad185aab.jpg">
</details>

<details>
<summary>群管</summary>
  群信息
  <img src="https://user-images.githubusercontent.com/80571808/186034664-c4c7796f-7128-4cca-8dc1-161d324c8e89.jpg">
  群管理
  <img src="https://user-images.githubusercontent.com/80571808/184520315-912539ad-6378-48d2-869d-a0f7ca0e9af8.png">
</details>

<details>
<summary>其他小功能（直接调用api）</summary>
  疯狂星期四（每周四中午12点发送）
  <img src="https://user-images.githubusercontent.com/80571808/186034609-e2b1c82c-0c72-4af2-b3dc-4a8ba47f0fcf.png">
  派蒙说（AI语音）
  <img src="https://user-images.githubusercontent.com/80571808/186034616-0034503e-10c2-48c8-934f-87134e43c75f.png">
</details>

### ~~功能(旧版)~~

<details>
<summary>#宵禁</summary>
<img width="362" alt="xj1" src="https://user-images.githubusercontent.com/80571808/184520289-8e1499fb-826b-480a-b469-c12f0c85c63b.PNG">
<img width="372" alt="xj2" src="https://user-images.githubusercontent.com/80571808/184520303-e982be55-c3cd-4e07-842b-8f216aeafe10.PNG">
</details>

<details>
<summary>#进群验证</summary>
<img src="https://user-images.githubusercontent.com/80571808/184520311-22430cf1-7dd9-4f55-b8bd-bf237c891420.PNG" alt="#刻晴">
</details>

<details>
<summary>#群管</summary>
<img width="368" alt="qg" src="https://user-images.githubusercontent.com/80571808/184520315-912539ad-6378-48d2-869d-a0f7ca0e9af8.png">
</details>

<details>
<summary>#签到</summary>
<img width="368" alt="qg" src="https://user-images.githubusercontent.com/80571808/184520362-509ddd44-dca8-451a-9935-bf025e7994ca.PNG">
</details>

<details>
<summary>#道具系统</summary>
<img width="368" alt="qg" src="https://user-images.githubusercontent.com/80571808/184520365-48f72f0b-6496-4ac6-8107-c8b6945f3e73.PNG">
<img width="368" alt="qg" src="https://user-images.githubusercontent.com/80571808/184520369-0eb273da-8e04-4bc6-8cee-1791e75b20b2.PNG">
</details>

## 道具系统

> 特色功能

#### 金币获取

首先玩家需要通过`#签到`等功能获取金币

#### 道具获取

拥有充足的金币便可在（`#枫酱超市`）道具商城购买，或者使用抽奖卡获得

* 购买时候需要使用超市功能查看商店名称后面的道具编号
* 目前只支持
  * 道具编号取决于‘config.ts’文件下有关道具配置的id

#### 道具使用

`#使用道具+编号`使用对应道具 eg：`#使用道具1`即使用一号道具

* 使用道具前请确认自己已经拥有至少一个该道具
* 无改道具会显示`购买`

#### 道具配置
 ##### 通用配置
  * id道具编号,禁止重名
  * price道具售卖价格只接受整数

 ##### 禁言卡

> 禁言群里的人

*  type必须输入 `"jy"`
* effect为禁言时长必须是`整数`单位`秒`

##### cdk卡

> 使用一定金币兑换密钥

* effect 需要和`cdk.json`相对应

##### 抽奖卡

* effect配置

  * type仅仅支持`gold`(金币)或者`props`(道具)

  * value

    * 如果是金币则填入中奖后金币数量
    * 如果是道具则填入道具id

  probability

  * 概率为0则100%抽到，概率为1则抽到1/2,概率为3则抽到1/3...只接受整数



### 关于插件开发

1. 首先在src目录创建ts文件（强烈推荐创建在`lib/app/plaugin`目录下）
2. 在ts文件创建相应的执行函数并将它暴露出去，函数返回值为`Sendable`
3. 在`lib/app/plauginindex.ts`下的`runplugin`方法下使用`pluginrule`进行注册

> 具体在插件目录里面有个例子插件，可供大家学习

### 关于自定义道具开发



1. 在配置目录下新建一个道具 

   	*  type值为`plugin`

   	*  effect值为任意`整数`

2. 在ts文件创建相应的执行函数并将它暴露出去，传入参数为为`PrivateMessageEvent | GroupMessageEvent`
3. 在`lib/app/plauginindex.ts`下的`runplugin`方法下使用`pluginprop`进行注册
   * 注意要与effect对应

> 具体在插件目录里面有个例子道具，可供大家学习

### 帮助&反馈

QQ群：877894787
